{"moduleFile":{"sourceFilePath":"/Users/fmontes/development/core-web/projects/dotcms-field-elements/src/components/dot-binary-file/dot-binary-upload-button/dot-binary-upload-button.tsx","localImports":["/Users/fmontes/development/core-web/projects/dotcms-field-elements/src/models","/Users/fmontes/development/core-web/projects/dotcms-field-elements/src/utils"],"externalImports":["@stencil/core","stencil-fragment","stencil-fragment"],"potentialCmpRefs":[],"cmpMeta":{"tagNameMeta":"dot-binary-upload-button","stylesMeta":{"$":{"externalStyles":[{"absolutePath":"/Users/fmontes/development/core-web/projects/dotcms-field-elements/src/components/dot-binary-file/dot-binary-upload-button/dot-binary-upload-button.scss","cmpRelativePath":"dot-binary-upload-button.scss","originalComponentPath":"dot-binary-upload-button.scss"}]}},"assetsDirsMeta":[],"hostMeta":{},"dependencies":[],"jsdoc":{"name":"DotBinaryUploadButtonComponent","tags":[{"name":"export"},{"name":"class","text":"DotBinaryFile"}],"documentation":"Represent a dotcms text field for the binary file element.","type":"typeof DotBinaryUploadButtonComponent"},"encapsulationMeta":0,"componentClass":"DotBinaryUploadButtonComponent","membersMeta":{"el":{"memberType":64},"name":{"memberType":1,"attribName":"name","attribType":{"text":"string","required":false,"optional":false},"reflectToAttrib":true,"propType":2,"jsdoc":{"name":"name","tags":[],"documentation":"Name that will be used as ID","type":"string","default":"''"}},"required":{"memberType":1,"attribName":"required","attribType":{"text":"boolean","required":false,"optional":false},"reflectToAttrib":true,"propType":4,"jsdoc":{"name":"required","tags":[],"documentation":"(optional) Determine if it is mandatory","type":"boolean","default":"false"}},"accept":{"memberType":1,"attribName":"accept","attribType":{"text":"string","required":false,"optional":false,"typeReferences":{}},"reflectToAttrib":true,"propType":2,"jsdoc":{"name":"accept","tags":[],"documentation":"(optional) Describes a type of file that may be selected by the user, separated by comma  eg: .pdf,.jpg","type":"string"}},"disabled":{"memberType":1,"attribName":"disabled","attribType":{"text":"boolean","required":false,"optional":false},"reflectToAttrib":true,"propType":4,"jsdoc":{"name":"disabled","tags":[],"documentation":"(optional) Disables field's interaction","type":"boolean","default":"false"}},"buttonLabel":{"memberType":1,"attribName":"button-label","attribType":{"text":"string","required":false,"optional":false},"reflectToAttrib":true,"propType":2,"jsdoc":{"name":"buttonLabel","tags":[],"documentation":"(optional) Text that be shown in the browse file button","type":"string","default":"''"}}},"eventsMeta":[{"eventMethodName":"fileChange","eventName":"fileChange","eventBubbles":true,"eventCancelable":true,"eventComposed":true,"eventType":{"text":"DotBinaryFileEvent","optional":false,"required":false,"typeReferences":{"EventEmitter":{"referenceLocation":"import","importReferenceLocation":"@stencil/core"},"DotBinaryFileEvent":{"referenceLocation":"import","importReferenceLocation":"../../../models"}}},"jsdoc":{"name":"fileChange","tags":[],"documentation":"","type":"EventEmitter<DotBinaryFileEvent>"}}],"listenersMeta":[]},"hasSlot":false,"hasSvg":false,"jsFilePath":"/Users/fmontes/development/core-web/projects/dotcms-field-elements/src/components/dot-binary-file/dot-binary-upload-button/dot-binary-upload-button.js"},"jsText":"import Fragment from 'stencil-fragment';\r\nimport { DotBinaryMessageError } from '../../../models';\r\nimport { getId, isFileAllowed } from '../../../utils';\r\nexport class DotBinaryUploadButtonComponent {\r\n    constructor() {\r\n        this.name = '';\r\n        this.required = false;\r\n        this.disabled = false;\r\n        this.buttonLabel = '';\r\n    }\r\n    componentDidLoad() {\r\n        this.fileInput = this.el.querySelector('dot-label input');\r\n    }\r\n    render() {\r\n        return (h(Fragment, null,\r\n            h(\"input\", { accept: this.accept, disabled: this.disabled, id: getId(this.name), onChange: (event) => this.fileChangeHandler(event), required: this.required || null, type: \"file\" }),\r\n            h(\"button\", { type: \"button\", disabled: this.disabled, onClick: () => { this.fileInput.click(); } }, this.buttonLabel)));\r\n    }\r\n    fileChangeHandler(event) {\r\n        const file = this.fileInput.files[0];\r\n        if (isFileAllowed(file.name, this.accept)) {\r\n            this.emitFile(file);\r\n        }\r\n        else {\r\n            event.preventDefault();\r\n            this.emitFile(null, DotBinaryMessageError.INVALID);\r\n        }\r\n    }\r\n    emitFile(file, errorType) {\r\n        this.fileChange.emit({\r\n            file: file,\r\n            errorType: errorType\r\n        });\r\n    }\r\n    static get is() { return \"dot-binary-upload-button\"; }\r\n    static get properties() { return {\r\n        \"accept\": {\r\n            \"type\": String,\r\n            \"attr\": \"accept\",\r\n            \"reflectToAttr\": true\r\n        },\r\n        \"buttonLabel\": {\r\n            \"type\": String,\r\n            \"attr\": \"button-label\",\r\n            \"reflectToAttr\": true\r\n        },\r\n        \"disabled\": {\r\n            \"type\": Boolean,\r\n            \"attr\": \"disabled\",\r\n            \"reflectToAttr\": true\r\n        },\r\n        \"el\": {\r\n            \"elementRef\": true\r\n        },\r\n        \"name\": {\r\n            \"type\": String,\r\n            \"attr\": \"name\",\r\n            \"reflectToAttr\": true\r\n        },\r\n        \"required\": {\r\n            \"type\": Boolean,\r\n            \"attr\": \"required\",\r\n            \"reflectToAttr\": true\r\n        }\r\n    }; }\r\n    static get events() { return [{\r\n            \"name\": \"fileChange\",\r\n            \"method\": \"fileChange\",\r\n            \"bubbles\": true,\r\n            \"cancelable\": true,\r\n            \"composed\": true\r\n        }]; }\r\n    static get style() { return \"/**style-placeholder:dot-binary-upload-button:**/\"; }\r\n}\r\n"}