{"version":3,"file":"451.604f6145.iframe.bundle.js","mappings":"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","sources":["./dist/libs/dotcms-webcomponents/dist/esm/dot-binary-file-preview_3.entry.js","./dist/libs/dotcms-webcomponents/dist/esm/dot-binary-message-error.model-21031161.js","./dist/libs/dotcms-webcomponents/dist/esm/utils-4086c226.js","./node_modules/core-js/internals/array-last-index-of.js","./node_modules/core-js/internals/number-parse-int.js","./node_modules/core-js/modules/es.array.last-index-of.js","./node_modules/core-js/modules/es.parse-int.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, H as Host, g as getElement } from './index-5965c697.js';\nimport { D as DotBinaryMessageError } from './dot-binary-message-error.model-21031161.js';\nimport { h as getHintId, j as getErrorClass, i as isFileAllowed, l as isValidURL, k as getId } from './utils-4086c226.js';\n\nconst dotBinaryFilePreviewCss = \"dot-binary-file-preview{display:flex}dot-binary-file-preview img,dot-binary-file-preview .dot-file-preview__extension{width:100px;height:100px}dot-binary-file-preview .dot-file-preview__info{display:flex;flex-direction:column;align-self:flex-end;padding-left:0.5rem}dot-binary-file-preview .dot-file-preview__info span{margin-bottom:1rem;word-break:break-all}dot-binary-file-preview .dot-file-preview__info button{align-self:flex-start;background-color:lightgray;border:0;padding:0.3rem 1.5rem;cursor:pointer}dot-binary-file-preview .dot-file-preview__extension{display:flex;align-items:center;justify-content:center;background-color:lightgray}dot-binary-file-preview .dot-file-preview__extension span{overflow:hidden;padding:0.5rem;text-overflow:ellipsis;font-size:2rem}\";\n\nconst DotBinaryFilePreviewComponent = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.delete = createEvent(this, \"delete\", 7);\n    /** file name to be displayed */\n    this.fileName = '';\n    /** (optional) file URL to be displayed */\n    this.previewUrl = '';\n    /** (optional) Delete button's label */\n    this.deleteLabel = 'Delete';\n  }\n  render() {\n    return this.fileName ? (h(Host, null, this.getPreviewElement(), h(\"div\", { class: \"dot-file-preview__info\" }, h(\"span\", { class: \"dot-file-preview__name\" }, this.fileName), h(\"button\", { type: \"button\", onClick: () => this.clearFile() }, this.deleteLabel)))) : null;\n  }\n  clearFile() {\n    this.delete.emit();\n    this.fileName = null;\n    this.previewUrl = null;\n  }\n  getPreviewElement() {\n    return this.previewUrl ? (h(\"img\", { alt: this.fileName, src: this.previewUrl })) : (h(\"div\", { class: \"dot-file-preview__extension\" }, h(\"span\", null, this.getExtention())));\n  }\n  getExtention() {\n    return this.fileName.substr(this.fileName.lastIndexOf('.'));\n  }\n  get el() { return getElement(this); }\n};\nDotBinaryFilePreviewComponent.style = dotBinaryFilePreviewCss;\n\nconst dotBinaryTextFieldCss = \"\";\n\nconst DotBinaryTextFieldComponent = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.fileChange = createEvent(this, \"fileChange\", 7);\n    this.lostFocus = createEvent(this, \"lostFocus\", 7);\n    /** Value specifies the value of the <input> element */\n    this.value = null;\n    /** (optional) Hint text that suggest a clue of the field */\n    this.hint = '';\n    /** (optional) Placeholder specifies a short hint that describes the expected value of the input field */\n    this.placeholder = '';\n    /** (optional) Determine if it is mandatory */\n    this.required = false;\n    /** (optional) Disables field's interaction */\n    this.disabled = false;\n  }\n  render() {\n    return (h(Host, null, h(\"input\", { type: \"text\", \"aria-describedby\": getHintId(this.hint), class: getErrorClass(this.isValid()), disabled: this.disabled, placeholder: this.placeholder, value: this.value, onBlur: () => this.lostFocus.emit(), onKeyDown: (event) => this.keyDownHandler(event), onPaste: (event) => this.pasteHandler(event) })));\n  }\n  keyDownHandler(evt) {\n    if (evt.key === 'Backspace') {\n      this.handleBackspace();\n    }\n    else if (this.shouldPreventEvent(evt)) {\n      evt.preventDefault();\n    }\n  }\n  shouldPreventEvent(evt) {\n    return !(evt.ctrlKey || evt.metaKey);\n  }\n  handleBackspace() {\n    this.value = '';\n    this.emitFile(null, this.required ? DotBinaryMessageError.REQUIRED : null);\n  }\n  // only supported in macOS.\n  pasteHandler(event) {\n    event.preventDefault();\n    this.value = '';\n    const clipboardData = event.clipboardData;\n    if (clipboardData.items.length) {\n      if (this.isPastingFile(clipboardData)) {\n        this.handleFilePaste(clipboardData.items);\n      }\n      else {\n        const clipBoardFileName = clipboardData.items[0];\n        this.handleURLPaste(clipBoardFileName);\n      }\n    }\n  }\n  handleFilePaste(items) {\n    const clipBoardFile = items[1].getAsFile();\n    if (isFileAllowed(clipBoardFile.name, clipBoardFile.type, this.accept)) {\n      this.value = clipBoardFile;\n      this.emitFile(clipBoardFile);\n    }\n    else {\n      this.emitFile(null, DotBinaryMessageError.INVALID);\n    }\n  }\n  handleURLPaste(clipBoardFileName) {\n    clipBoardFileName.getAsString((fileURL) => {\n      if (isValidURL(fileURL)) {\n        this.value = fileURL;\n        this.emitFile(fileURL);\n      }\n      else {\n        this.emitFile(null, DotBinaryMessageError.URLINVALID);\n      }\n    });\n  }\n  isPastingFile(data) {\n    return !!data.files.length;\n  }\n  isValid() {\n    return !(this.required && !!this.value);\n  }\n  emitFile(file, errorType) {\n    this.fileChange.emit({\n      file: file,\n      errorType: errorType\n    });\n  }\n  get el() { return getElement(this); }\n};\nDotBinaryTextFieldComponent.style = dotBinaryTextFieldCss;\n\nconst dotBinaryUploadButtonCss = \"\";\n\nconst DotBinaryUploadButtonComponent = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.fileChange = createEvent(this, \"fileChange\", 7);\n    /** Name that will be used as ID */\n    this.name = '';\n    /** (optional) Determine if it is mandatory */\n    this.required = false;\n    /** (optional) Disables field's interaction */\n    this.disabled = false;\n    /** (optional) Set the max file size limit  */\n    this.maxFileLength = '';\n    /** (optional) Text that be shown in the browse file button */\n    this.buttonLabel = '';\n  }\n  componentDidLoad() {\n    this.fileInput = this.el.querySelector('dot-label input');\n  }\n  render() {\n    return (h(Host, null, h(\"input\", { accept: this.accept, disabled: this.disabled, id: getId(this.name), onChange: (event) => this.fileChangeHandler(event), required: this.required || null, type: \"file\" }), h(\"button\", { type: \"button\", disabled: this.disabled, onClick: () => {\n        this.fileInput.click();\n      } }, this.buttonLabel)));\n  }\n  fileChangeHandler(event) {\n    const file = this.fileInput.files[0];\n    if (!isFileAllowed(file.name, file.type, this.accept)) {\n      event.preventDefault();\n      this.emitFile(null, DotBinaryMessageError.INVALID);\n    }\n    else if (this.maxFileLength ? parseInt(this.maxFileLength, 10) <= file.size : false) {\n      event.preventDefault();\n      this.emitFile(null, DotBinaryMessageError.SIZEINVALID);\n    }\n    else {\n      this.emitFile(file);\n    }\n  }\n  emitFile(file, errorType) {\n    this.fileChange.emit({\n      file: file,\n      errorType: errorType\n    });\n  }\n  get el() { return getElement(this); }\n};\nDotBinaryUploadButtonComponent.style = dotBinaryUploadButtonCss;\n\nexport { DotBinaryFilePreviewComponent as dot_binary_file_preview, DotBinaryTextFieldComponent as dot_binary_text_field, DotBinaryUploadButtonComponent as dot_binary_upload_button };\n","/**\n * Enum to represent Errors in the Binary Field.\n */\nvar DotBinaryMessageError;\n(function (DotBinaryMessageError) {\n  DotBinaryMessageError[DotBinaryMessageError[\"REQUIRED\"] = 0] = \"REQUIRED\";\n  DotBinaryMessageError[DotBinaryMessageError[\"INVALID\"] = 1] = \"INVALID\";\n  DotBinaryMessageError[DotBinaryMessageError[\"URLINVALID\"] = 2] = \"URLINVALID\";\n  DotBinaryMessageError[DotBinaryMessageError[\"SIZEINVALID\"] = 3] = \"SIZEINVALID\";\n})(DotBinaryMessageError || (DotBinaryMessageError = {}));\n\nexport { DotBinaryMessageError as D };\n","import { h } from './index-5965c697.js';\n\nfunction nextTick(fn) {\n  const id = window.requestAnimationFrame(function () {\n    fn && fn();\n    window.cancelAnimationFrame(id);\n  });\n}\n/**\n * Returns CSS classes object based on field Status values\n *\n * @param DotFieldStatus status\n * @param boolean isValid\n * @param boolean [required]\n * @returns DotFieldStatusClasses\n */\nfunction getClassNames(status, isValid, required) {\n  return {\n    'dot-valid': isValid,\n    'dot-invalid': !isValid,\n    'dot-pristine': status.dotPristine,\n    'dot-dirty': !status.dotPristine,\n    'dot-touched': status.dotTouched,\n    'dot-untouched': !status.dotTouched,\n    'dot-required': required\n  };\n}\n/**\n * Returns if it is a valid string\n *\n * @param string val\n * @returns boolean\n */\nfunction isStringType(val) {\n  return typeof val === 'string' && !!val;\n}\n/**\n * Based on a string formatted with comma separated values, returns a label/value DotOption array\n *\n * @param string rawString\n * @returns DotOption[]\n */\nfunction getDotOptionsFromFieldValue(rawString) {\n  if (!isStringType(rawString)) {\n    return [];\n  }\n  rawString = rawString.replace(/(?:\\\\[rn]|[\\r\\n]+)+/g, ',');\n  const items = isKeyPipeValueFormatValid(rawString)\n    ? rawString\n      .split(',')\n      .filter((item) => !!item.length)\n      .map((item) => {\n      const [label, value] = item.split('|');\n      return { label, value };\n    })\n    : [];\n  return items;\n}\n/**\n * Returns CSS class error to be set on main custom field\n *\n * @param boolean valid\n * @returns string\n */\nfunction getErrorClass(valid) {\n  return valid ? undefined : 'dot-field__error';\n}\n/**\n * Prefix the hint for the id param\n *\n * @param string name\n * @returns string\n */\nfunction getHintId(name) {\n  const value = slugify(name);\n  return value ? `hint-${value}` : undefined;\n}\n/**\n * Return cleanup dot prefixed id\n *\n * @param string name\n * @returns string\n */\nfunction getId(name) {\n  const value = slugify(name);\n  return name ? `dot-${slugify(value)}` : undefined;\n}\n/**\n * Prefix the label for the id param\n *\n * @param string name\n * @returns string\n */\nfunction getLabelId(name) {\n  const value = slugify(name);\n  return value ? `label-${value}` : undefined;\n}\n/**\n * Returns initial field Status, with possibility to change Valid status when needed (reset value)\n *\n * @param boolean isValid\n * @returns DotFieldStatus\n */\nfunction getOriginalStatus(isValid) {\n  return {\n    dotValid: typeof isValid === 'undefined' ? true : isValid,\n    dotTouched: false,\n    dotPristine: true\n  };\n}\n/**\n * Returns a single string formatted as \"Key|Value\" separated with commas from a DotKeyValueField array\n *\n * @param DotKeyValueField[] values\n * @returns string\n */\nfunction getStringFromDotKeyArray(values) {\n  return values.map((item) => `${item.key}|${item.value}`).join(',');\n}\n/**\n * Returns a copy of field Status with new changes\n *\n * @param DotFieldStatus state\n * @param { [key: string]: boolean } change\n * @returns DotFieldStatus\n */\nfunction updateStatus(state, change) {\n  return Object.assign(Object.assign({}, state), change);\n}\n/**\n * Returns Error tag if \"show\" value equals true\n *\n * @param boolean show\n * @param string message\n * @returns JSX.Element\n */\nfunction getTagError(show, message) {\n  return show && isStringType(message) ? (h(\"span\", { class: \"dot-field__error-message\" }, message)) : null;\n}\n/**\n * Returns Hint tag if \"hint\" value defined\n *\n * @param string hint\n * @param string name\n * @returns JSX.Element\n */\nfunction getTagHint(hint) {\n  return isStringType(hint) ? (h(\"span\", { class: \"dot-field__hint\", id: getHintId(hint) }, hint)) : null;\n}\n/**\n * Check if an URL is valid.\n * @param string url\n *\n * @returns boolean\n */\nfunction isValidURL(url) {\n  try {\n    return !!new URL(url);\n  }\n  catch (e) {\n    return false;\n  }\n}\n/**\n * Check if the fileName extension is part of the allowed extensions\n *\n * @param string fileName\n * @param string[] allowedExtensions\n *\n * @returns boolean\n */\nfunction isFileAllowed(name, type, allowedExtensions) {\n  if (allowedExtensions === '') {\n    return true;\n  }\n  const fileExt = getFileExtension(name);\n  return !!allowedExtensions.split(',').find((allowedExt) => {\n    if (allowedExt === '*') {\n      return true;\n    }\n    // if we get something like image/*, audio/*\n    if (allowedExt.includes('/*')) {\n      const extType = allowedExt.split('/*').filter(Boolean).join(''); // get the first part\n      return type.includes(extType); // \"image/png\".includes(\"image\")\n    }\n    // check agains extensions like `.jpg,.png`\n    return allowedExt.includes(fileExt);\n  });\n}\nfunction getFileExtension(filename) {\n  return /(?:\\.([^.]+))?$/.exec(filename)[1];\n}\nfunction slugify(text) {\n  return text\n    ? text\n      .toString()\n      .toLowerCase()\n      .replace(/\\s+/g, '-') // Replace spaces with -\n      .replace(/[^\\w\\-]+/g, '') // Remove all non-word chars\n      .replace(/\\-\\-+/g, '-') // Replace multiple - with single -\n      .replace(/^-+/, '') // Trim - from start of text\n      .replace(/-+$/, '') // Trim - from end of text\n    : null;\n}\nfunction isKeyPipeValueFormatValid(rawString) {\n  const regex = /([^|,]*)\\|([^|,]*)/;\n  const items = rawString.split(',');\n  let valid = true;\n  for (let i = 0, total = items.length; i < total; i++) {\n    if (!regex.test(items[i])) {\n      valid = false;\n      break;\n    }\n  }\n  return valid;\n}\n\nexport { getClassNames as a, getTagError as b, getTagHint as c, getStringFromDotKeyArray as d, isStringType as e, getDotOptionsFromFieldValue as f, getOriginalStatus as g, getHintId as h, isFileAllowed as i, getErrorClass as j, getId as k, isValidURL as l, getLabelId as m, nextTick as n, updateStatus as u };\n","'use strict';\n/* eslint-disable es/no-array-prototype-lastindexof -- safe */\nvar apply = require('../internals/function-apply');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar min = Math.min;\nvar $lastIndexOf = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!$lastIndexOf && 1 / [1].lastIndexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('lastIndexOf');\nvar FORCED = NEGATIVE_ZERO || !STRICT_METHOD;\n\n// `Array.prototype.lastIndexOf` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.lastindexof\nmodule.exports = FORCED ? function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n  // convert -0 to +0\n  if (NEGATIVE_ZERO) return apply($lastIndexOf, this, arguments) || 0;\n  var O = toIndexedObject(this);\n  var length = lengthOfArrayLike(O);\n  var index = length - 1;\n  if (arguments.length > 1) index = min(index, toIntegerOrInfinity(arguments[1]));\n  if (index < 0) index = length + index;\n  for (;index >= 0; index--) if (index in O && O[index] === searchElement) return index || 0;\n  return -1;\n} : $lastIndexOf;\n","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar $parseInt = global.parseInt;\nvar Symbol = global.Symbol;\nvar ITERATOR = Symbol && Symbol.iterator;\nvar hex = /^[+-]?0x/i;\nvar exec = uncurryThis(hex.exec);\nvar FORCED = $parseInt(whitespaces + '08') !== 8 || $parseInt(whitespaces + '0x16') !== 22\n  // MS Edge 18- broken with boxed symbols\n  || (ITERATOR && !fails(function () { $parseInt(Object(ITERATOR)); }));\n\n// `parseInt` method\n// https://tc39.es/ecma262/#sec-parseint-string-radix\nmodule.exports = FORCED ? function parseInt(string, radix) {\n  var S = trim(toString(string));\n  return $parseInt(S, (radix >>> 0) || (exec(hex, S) ? 16 : 10));\n} : $parseInt;\n","var $ = require('../internals/export');\nvar lastIndexOf = require('../internals/array-last-index-of');\n\n// `Array.prototype.lastIndexOf` method\n// https://tc39.es/ecma262/#sec-array.prototype.lastindexof\n// eslint-disable-next-line es/no-array-prototype-lastindexof -- required for testing\n$({ target: 'Array', proto: true, forced: lastIndexOf !== [].lastIndexOf }, {\n  lastIndexOf: lastIndexOf\n});\n","var $ = require('../internals/export');\nvar $parseInt = require('../internals/number-parse-int');\n\n// `parseInt` method\n// https://tc39.es/ecma262/#sec-parseint-string-radix\n$({ global: true, forced: parseInt != $parseInt }, {\n  parseInt: $parseInt\n});\n"],"names":["DotBinaryFilePreviewComponent","hostRef","registerInstance","this","createEvent","fileName","previewUrl","deleteLabel","render","h","Host","getPreviewElement","class","type","onClick","clearFile","emit","alt","src","getExtention","substr","lastIndexOf","get","getElement","style","DotBinaryTextFieldComponent","fileChange","lostFocus","value","hint","placeholder","required","disabled","getHintId","getErrorClass","isValid","onBlur","onKeyDown","event","keyDownHandler","onPaste","pasteHandler","evt","key","handleBackspace","shouldPreventEvent","preventDefault","ctrlKey","metaKey","emitFile","DotBinaryMessageError","clipboardData","items","length","isPastingFile","handleFilePaste","clipBoardFileName","handleURLPaste","clipBoardFile","getAsFile","isFileAllowed","name","accept","getAsString","fileURL","isValidURL","data","files","file","errorType","DotBinaryUploadButtonComponent","maxFileLength","buttonLabel","componentDidLoad","fileInput","el","querySelector","id","getId","onChange","fileChangeHandler","click","parseInt","size","nextTick","fn","window","requestAnimationFrame","cancelAnimationFrame","getClassNames","status","dotPristine","dotTouched","isStringType","val","getDotOptionsFromFieldValue","rawString","isKeyPipeValueFormatValid","regex","split","valid","i","total","test","replace","filter","item","map","label","undefined","slugify","getLabelId","getOriginalStatus","dotValid","getStringFromDotKeyArray","values","join","updateStatus","state","change","Object","assign","getTagError","show","message","getTagHint","url","URL","e","allowedExtensions","fileExt","getFileExtension","filename","exec","find","allowedExt","includes","extType","Boolean","text","toString","toLowerCase","apply","toIndexedObject","toIntegerOrInfinity","lengthOfArrayLike","arrayMethodIsStrict","min","Math","$lastIndexOf","NEGATIVE_ZERO","STRICT_METHOD","FORCED","module","exports","searchElement","arguments","O","index","global","fails","uncurryThis","trim","whitespaces","$parseInt","Symbol","ITERATOR","iterator","hex","string","radix","S","$","target","proto","forced"],"sourceRoot":"webpack:///"}