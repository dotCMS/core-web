"use strict";(self.webpackChunkdotcms_ui=self.webpackChunkdotcms_ui||[]).push([[966],{"./dist/libs/dotcms-webcomponents/dist/esm/dot-tags.entry.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{dot_tags:()=>DotTagsComponent});var _home_runner_work_core_web_core_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),_home_runner_work_core_web_core_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_home_runner_work_core_web_core_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0__),_index_094afd6e_js__WEBPACK_IMPORTED_MODULE_18__=(__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.string.trim.js"),__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./dist/libs/dotcms-webcomponents/dist/esm/index-094afd6e.js")),_utils_61ba0d04_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./dist/libs/dotcms-webcomponents/dist/esm/utils-61ba0d04.js"),_checkProp_286e406e_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./dist/libs/dotcms-webcomponents/dist/esm/checkProp-286e406e.js");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var DotTagsComponent=function(){function DotTagsComponent(hostRef){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DotTagsComponent),(0,_index_094afd6e_js__WEBPACK_IMPORTED_MODULE_18__.r)(this,hostRef),this.dotValueChange=(0,_index_094afd6e_js__WEBPACK_IMPORTED_MODULE_18__.c)(this,"dotValueChange",7),this.dotStatusChange=(0,_index_094afd6e_js__WEBPACK_IMPORTED_MODULE_18__.c)(this,"dotStatusChange",7),this.value="",this.name="",this.label="",this.hint="",this.placeholder="",this.required=!1,this.requiredMessage="This field is required",this.disabled=!1,this.threshold=1,this.debounce=300,this.data=null}var _reset;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(DotTagsComponent,[{key:"reset",value:(_reset=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(_home_runner_work_core_web_core_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().mark((function _callee(){return _home_runner_work_core_web_core_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:this.value="",this.status=(0,_utils_61ba0d04_js__WEBPACK_IMPORTED_MODULE_19__.g)(this.isValid()),this.emitChanges();case 3:case"end":return _context.stop()}}),_callee,this)}))),function reset(){return _reset.apply(this,arguments)})},{key:"valueWatch",value:function valueWatch(){this.value=(0,_checkProp_286e406e_js__WEBPACK_IMPORTED_MODULE_20__.c)(this,"value","string")}},{key:"componentWillLoad",value:function componentWillLoad(){this.status=(0,_utils_61ba0d04_js__WEBPACK_IMPORTED_MODULE_19__.g)(this.isValid()),this.validateProps(),this.emitStatusChange()}},{key:"render",value:function render(){var _this=this,classes=(0,_utils_61ba0d04_js__WEBPACK_IMPORTED_MODULE_19__.a)(this.status,this.isValid(),this.required);return(0,_index_094afd6e_js__WEBPACK_IMPORTED_MODULE_18__.h)(_index_094afd6e_js__WEBPACK_IMPORTED_MODULE_18__.H,{class:Object.assign({},classes)},(0,_index_094afd6e_js__WEBPACK_IMPORTED_MODULE_18__.h)("dot-label",{label:this.label,required:this.required,name:this.name},(0,_index_094afd6e_js__WEBPACK_IMPORTED_MODULE_18__.h)("div",{"aria-describedby":(0,_utils_61ba0d04_js__WEBPACK_IMPORTED_MODULE_19__.h)(this.hint),tabIndex:this.hint?0:null,class:"dot-tags__container"},(0,_index_094afd6e_js__WEBPACK_IMPORTED_MODULE_18__.h)("dot-autocomplete",{class:(0,_utils_61ba0d04_js__WEBPACK_IMPORTED_MODULE_19__.j)(this.status.dotValid),data:this.data,debounce:this.debounce,disabled:this.isDisabled(),onEnter:this.onEnterHandler.bind(this),onLostFocus:this.blurHandler.bind(this),onSelection:this.onSelectHandler.bind(this),placeholder:this.placeholder||null,threshold:this.threshold}),(0,_index_094afd6e_js__WEBPACK_IMPORTED_MODULE_18__.h)("div",{class:"dot-tags__chips"},this.getValues().map((function(tagLab){return(0,_index_094afd6e_js__WEBPACK_IMPORTED_MODULE_18__.h)("dot-chip",{disabled:_this.isDisabled(),label:tagLab,onRemove:_this.removeTag.bind(_this)})}))))),(0,_utils_61ba0d04_js__WEBPACK_IMPORTED_MODULE_19__.c)(this.hint),(0,_utils_61ba0d04_js__WEBPACK_IMPORTED_MODULE_19__.b)(this.showErrorMessage(),this.getErrorMessage()))}},{key:"addTag",value:function addTag(label){var values=this.getValues();values.includes(label)||(values.push(label),this.value=values.join(","),this.updateStatus(),this.emitChanges())}},{key:"blurHandler",value:function blurHandler(){this.status.dotTouched||(this.status=(0,_utils_61ba0d04_js__WEBPACK_IMPORTED_MODULE_19__.u)(this.status,{dotTouched:!0}),this.emitStatusChange())}},{key:"emitChanges",value:function emitChanges(){this.emitStatusChange(),this.emitValueChange()}},{key:"emitStatusChange",value:function emitStatusChange(){this.dotStatusChange.emit({name:this.name,status:this.status})}},{key:"emitValueChange",value:function emitValueChange(){this.dotValueChange.emit({name:this.name,value:this.value})}},{key:"getErrorMessage",value:function getErrorMessage(){return this.isValid()?"":this.requiredMessage}},{key:"getValues",value:function getValues(){return(0,_utils_61ba0d04_js__WEBPACK_IMPORTED_MODULE_19__.e)(this.value)?this.value.split(","):[]}},{key:"isDisabled",value:function isDisabled(){return this.disabled||null}},{key:"isValid",value:function isValid(){return!this.required||this.required&&!!this.value}},{key:"onEnterHandler",value:function onEnterHandler(_ref){var _this2=this,_ref$detail=_ref.detail;(void 0===_ref$detail?"":_ref$detail).split(",").forEach((function(label){_this2.addTag(label.trim())}))}},{key:"onSelectHandler",value:function onSelectHandler(_ref2){var value=_ref2.detail.selection.value.replace(","," ").replace(/\s+/g," ");this.addTag(value)}},{key:"removeTag",value:function removeTag(event){var values=this.getValues().filter((function(item){return item!==event.detail}));this.value=values.join(","),this.updateStatus(),this.emitChanges()}},{key:"showErrorMessage",value:function showErrorMessage(){return this.getErrorMessage()&&!this.status.dotPristine}},{key:"updateStatus",value:function updateStatus(){this.status=(0,_utils_61ba0d04_js__WEBPACK_IMPORTED_MODULE_19__.u)(this.status,{dotTouched:!0,dotPristine:!1,dotValid:this.isValid()})}},{key:"validateProps",value:function validateProps(){this.valueWatch()}},{key:"el",get:function get(){return(0,_index_094afd6e_js__WEBPACK_IMPORTED_MODULE_18__.g)(this)}}],[{key:"watchers",get:function get(){return{value:["valueWatch"]}}}]),DotTagsComponent}();DotTagsComponent.style="dot-tags .dot-tags__container{display:flex;align-items:flex-start;border:solid 1px lightgray}dot-tags .dot-tags__container dot-autocomplete{margin:0.5rem 1rem 0.5rem 0.5rem}dot-tags .dot-tags__container .dot-tags__chips{margin:0.5rem 1rem 0 0}dot-tags .dot-tags__container dot-chip{border:solid 1px #ccc;display:inline-block;margin:0 0.5rem 0.5rem 0;padding:0.2rem}dot-tags button{border:0}"}}]);
//# sourceMappingURL=966.f4bb874a.iframe.bundle.js.map