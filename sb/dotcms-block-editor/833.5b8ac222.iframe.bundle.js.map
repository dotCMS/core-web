{"version":3,"file":"833.5b8ac222.iframe.bundle.js","mappings":"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","sources":["./dist/libs/dotcms-webcomponents/dist/esm/key-value-form_2.entry.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, g as getElement } from './index-5965c697.js';\n\nconst keyValueFormCss = \"key-value-form form label{align-items:center;display:flex;flex-grow:1}key-value-form form table{width:100%}key-value-form form table input{width:100%}key-value-form form .key-value-table-form__key{width:45%}key-value-form form .key-value-table-form__value{width:45%}key-value-form form .key-value-table-form__action{text-align:right;width:10%}\";\n\nconst DEFAULT_VALUE = { key: '', value: '' };\nconst DotKeyValueComponent = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.add = createEvent(this, \"add\", 7);\n    this.keyChanged = createEvent(this, \"keyChanged\", 7);\n    this.lostFocus = createEvent(this, \"lostFocus\", 7);\n    /** (optional) Disables all form interaction */\n    this.disabled = false;\n    /** (optional) Label for the add item button */\n    this.addButtonLabel = 'Add';\n    /** (optional) Placeholder for the key input text */\n    this.keyPlaceholder = '';\n    /** (optional) Placeholder for the value input text */\n    this.valuePlaceholder = '';\n    /** (optional) The string to use in the key input label */\n    this.keyLabel = 'Key';\n    /** (optional) The string to use in the value input label */\n    this.valueLabel = 'Value';\n    /** (optional) Label for the empty option in white-list select */\n    this.emptyDropdownOptionLabel = 'Pick an option';\n    /** (optional) The string to use for white-list key/values */\n    this.whiteList = '';\n    this.inputs = Object.assign({}, DEFAULT_VALUE);\n    this.selectedWhiteListKey = '';\n    this.whiteListArray = {};\n  }\n  selectedWhiteListKeyWatch() {\n    /* */\n  }\n  componentWillLoad() {\n    this.whiteListArray = this.whiteList.length ? JSON.parse(this.whiteList) : '';\n  }\n  render() {\n    const buttonDisabled = this.isButtonDisabled();\n    return (h(\"form\", { onSubmit: this.addKey.bind(this) }, h(\"table\", null, h(\"tbody\", null, h(\"tr\", null, h(\"td\", { class: \"key-value-table-form__key\" }, h(\"label\", null, this.keyLabel)), h(\"td\", { class: \"key-value-table-form__value\" }, h(\"label\", null, this.valueLabel)), h(\"td\", { class: \"key-value-table-form__action\" })), Object.keys(this.whiteListArray).length === 0\n      ? this.getKeyValueForm(buttonDisabled)\n      : this.getWhiteListForm(buttonDisabled)))));\n  }\n  getKeyValueForm(buttonDisabled) {\n    return (h(\"tr\", null, h(\"td\", { class: \"key-value-table-form__key\" }, h(\"input\", { disabled: this.disabled, name: \"key\", onBlur: (e) => this.lostFocus.emit(e), onInput: (event) => this.setValue(event), placeholder: this.keyPlaceholder, type: \"text\", value: this.inputs.key })), h(\"td\", { class: \"key-value-table-form__value\" }, h(\"input\", { disabled: this.disabled, name: \"value\", onBlur: (e) => this.lostFocus.emit(e), onInput: (event) => this.setValue(event), placeholder: this.valuePlaceholder, type: \"text\", value: this.inputs.value })), h(\"td\", { class: \"key-value-table-form__action\" }, h(\"button\", { class: \"key-value-form__save__button\", type: \"submit\", disabled: buttonDisabled }, this.addButtonLabel))));\n  }\n  getWhiteListForm(buttonDisabled) {\n    return (h(\"tr\", null, h(\"td\", { class: \"key-value-table-form__key\" }, this.getWhiteListKeysDropdown()), h(\"td\", { class: \"key-value-table-form__value\" }, this.selectedWhiteListKey ? this.getWhiteListValueControl() : null), h(\"td\", { class: \"key-value-table-form__action\" }, h(\"button\", { class: \"key-value-form__save__button\", type: \"submit\", disabled: buttonDisabled }, this.addButtonLabel))));\n  }\n  getWhiteListValueControl() {\n    return this.whiteListArray[this.selectedWhiteListKey].length ? (this.getWhiteListValuesDropdown()) : (h(\"input\", { disabled: this.disabled, name: \"value\", onBlur: (e) => this.lostFocus.emit(e), onInput: (event) => this.setValue(event), placeholder: this.valuePlaceholder, type: \"text\", value: this.inputs.value }));\n  }\n  getWhiteListKeysDropdown() {\n    return (h(\"select\", { disabled: this.disabled, name: \"key\", onChange: (event) => this.changeWhiteListKey(event) }, h(\"option\", { value: \"\" }, this.emptyDropdownOptionLabel), Object.keys(this.whiteListArray).map((key) => {\n      return h(\"option\", { value: key }, key);\n    })));\n  }\n  getWhiteListValuesDropdown() {\n    return (h(\"select\", { disabled: this.disabled, name: \"value\", onChange: (event) => this.changeWhiteListValue(event) }, h(\"option\", { value: \"\" }, this.emptyDropdownOptionLabel), this.whiteListArray[this.selectedWhiteListKey].map((item) => {\n      return h(\"option\", { value: item }, item);\n    })));\n  }\n  changeWhiteListKey(event) {\n    event.stopImmediatePropagation();\n    this.clearForm();\n    const target = event.target;\n    this.selectedWhiteListKey = target.value;\n    this.setValue(event);\n  }\n  changeWhiteListValue(event) {\n    event.stopImmediatePropagation();\n    this.setValue(event);\n  }\n  isButtonDisabled() {\n    return !this.isFormValid() || this.disabled || null;\n  }\n  isFormValid() {\n    return !!(this.inputs.key.length && this.inputs.value.length);\n  }\n  setValue(event) {\n    event.stopImmediatePropagation();\n    const target = event.target;\n    if (target.name === 'key') {\n      this.keyChanged.emit(target.value.toString());\n    }\n    this.inputs = Object.assign(Object.assign({}, this.inputs), { [target.name]: target.value.toString() });\n  }\n  addKey(event) {\n    event.preventDefault();\n    event.stopImmediatePropagation();\n    if (this.inputs.key && this.inputs.value) {\n      this.add.emit(this.inputs);\n      this.clearForm();\n      this.focusKeyInputField();\n    }\n  }\n  clearForm() {\n    this.inputs = Object.assign({}, DEFAULT_VALUE);\n  }\n  focusKeyInputField() {\n    const input = this.el.querySelector('[name=\"key\"]');\n    input.focus();\n  }\n  get el() { return getElement(this); }\n  static get watchers() { return {\n    \"selectedWhiteListKey\": [\"selectedWhiteListKeyWatch\"]\n  }; }\n};\nDotKeyValueComponent.style = keyValueFormCss;\n\nconst keyValueTableCss = \"key-value-table table{width:100%}key-value-table table td{line-height:3rem}key-value-table .key-value-table-wc__key{width:45%}key-value-table .key-value-table-wc__value{width:45%}key-value-table .key-value-table-wc__action{text-align:right;width:10%}key-value-table .key-value-table-wc__placeholder-transit{border-bottom:1px solid}\";\n\nconst KeyValueTableComponent = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.delete = createEvent(this, \"delete\", 7);\n    this.reorder = createEvent(this, \"reorder\", 7);\n    /** (optional) Items to render in the list of key value */\n    this.items = [];\n    /** (optional) Disables all form interaction */\n    this.disabled = false;\n    /** (optional) Label for the delete button in each item list */\n    this.buttonLabel = 'Delete';\n    /** (optional) Message to show when the list of items is empty */\n    this.emptyMessage = 'No values';\n    this.dragSrcEl = null;\n  }\n  render() {\n    return (h(\"table\", null, h(\"tbody\", null, this.renderRows(this.items))));\n  }\n  componentDidLoad() {\n    this.bindDraggableEvents();\n  }\n  componentDidUpdate() {\n    this.bindDraggableEvents();\n  }\n  // D&D - BEGIN\n  bindDraggableEvents() {\n    if (!this.disabled) {\n      const rows = document.querySelectorAll('key-value-table tr');\n      rows.forEach((row) => {\n        row.setAttribute('draggable', 'true');\n        row.removeEventListener('dragstart', this.handleDragStart.bind(this), false);\n        row.removeEventListener('dragenter', this.handleDragEnter, false);\n        row.removeEventListener('dragover', this.handleDragOver.bind(this), false);\n        row.removeEventListener('dragleave', this.handleDragLeave, false);\n        row.removeEventListener('drop', this.handleDrop.bind(this), false);\n        row.removeEventListener('dragend', this.handleDragEnd.bind(this), false);\n        row.addEventListener('dragstart', this.handleDragStart.bind(this), false);\n        row.addEventListener('dragenter', this.handleDragEnter, false);\n        row.addEventListener('dragover', this.handleDragOver.bind(this), false);\n        row.addEventListener('dragleave', this.handleDragLeave, false);\n        row.addEventListener('drop', this.handleDrop.bind(this), false);\n        row.addEventListener('dragend', this.handleDragEnd.bind(this), false);\n      });\n    }\n  }\n  removeElementById(elemId) {\n    document.getElementById(elemId).remove();\n  }\n  isPlaceholderInDOM() {\n    return !!document.getElementById('dotKeyValuePlaceholder');\n  }\n  isCursorOnUpperSide(cursor, { top, bottom }) {\n    return cursor.y - top < (bottom - top) / 2;\n  }\n  setPlaceholder() {\n    const placeholder = document.createElement('tr');\n    placeholder.id = 'dotKeyValuePlaceholder';\n    placeholder.classList.add('key-value-table-wc__placeholder-transit');\n    return placeholder;\n  }\n  insertBeforeElement(newElem, element) {\n    element.parentNode.insertBefore(newElem, element);\n  }\n  insertAfterElement(newElem, element) {\n    element.parentNode.insertBefore(newElem, element.nextSibling);\n  }\n  handleDragStart(e) {\n    this.dragSrcEl = e.target;\n  }\n  handleDragOver(e) {\n    if (e.preventDefault) {\n      e.preventDefault();\n    }\n    if (this.dragSrcEl != e.target) {\n      const contentlet = e.target.closest('tr');\n      const contentletPlaceholder = this.setPlaceholder();\n      if (this.isPlaceholderInDOM()) {\n        this.removeElementById('dotKeyValuePlaceholder');\n      }\n      if (this.isCursorOnUpperSide(e, contentlet.getBoundingClientRect())) {\n        this.insertBeforeElement(contentletPlaceholder, contentlet);\n      }\n      else {\n        this.insertAfterElement(contentletPlaceholder, contentlet);\n      }\n    }\n    return false;\n  }\n  handleDragEnter(e) {\n    e.target.classList.add('over');\n  }\n  handleDragLeave(e) {\n    e.target.classList.remove('over');\n  }\n  handleDrop(e) {\n    if (e.stopPropagation) {\n      e.stopPropagation(); // stops the browser from redirecting.\n    }\n    if (this.dragSrcEl != e.target) {\n      document\n        .getElementById('dotKeyValuePlaceholder')\n        .insertAdjacentElement('afterend', this.dragSrcEl);\n    }\n    return false;\n  }\n  handleDragEnd() {\n    const rows = document.querySelectorAll('key-value-table tr');\n    rows.forEach(function (row) {\n      row.classList.remove('over');\n    });\n    try {\n      this.removeElementById('dotKeyValuePlaceholder');\n    }\n    catch (e) {\n      /**/\n    }\n    this.reorder.emit();\n  }\n  // D&D - END\n  onDelete(index) {\n    this.delete.emit(index);\n  }\n  getRow(item, index) {\n    const label = `${this.buttonLabel} ${item.key}, ${item.value}`;\n    return (h(\"tr\", null, h(\"td\", { class: \"key-value-table-wc__key\" }, item.key), h(\"td\", { class: \"key-value-table-wc__value\" }, item.value), h(\"td\", { class: \"key-value-table-wc__action\" }, !this.disabled ? this.getDeleteButton(label, index) : '')));\n  }\n  getDeleteButton(label, index) {\n    return (h(\"button\", { \"aria-label\": label, onClick: () => this.onDelete(index), class: \"dot-key-value__delete-button\" }, this.buttonLabel));\n  }\n  renderRows(items) {\n    return this.isValidItems(items)\n      ? items.map((item, index) => this.getRow(item, index))\n      : this.getEmptyRow();\n  }\n  getEmptyRow() {\n    return (h(\"tr\", null, h(\"td\", null, this.emptyMessage)));\n  }\n  isValidItems(items) {\n    return Array.isArray(items) && !!items.length;\n  }\n};\nKeyValueTableComponent.style = keyValueTableCss;\n\nexport { DotKeyValueComponent as key_value_form, KeyValueTableComponent as key_value_table };\n"],"names":["DEFAULT_VALUE","key","value","DotKeyValueComponent","hostRef","registerInstance","this","add","createEvent","keyChanged","lostFocus","disabled","addButtonLabel","keyPlaceholder","valuePlaceholder","keyLabel","valueLabel","emptyDropdownOptionLabel","whiteList","inputs","Object","assign","selectedWhiteListKey","whiteListArray","selectedWhiteListKeyWatch","componentWillLoad","length","JSON","parse","render","buttonDisabled","isButtonDisabled","h","onSubmit","addKey","bind","class","keys","getKeyValueForm","getWhiteListForm","name","onBlur","e","emit","onInput","event","setValue","placeholder","type","getWhiteListKeysDropdown","getWhiteListValueControl","getWhiteListValuesDropdown","onChange","changeWhiteListKey","map","changeWhiteListValue","item","stopImmediatePropagation","clearForm","target","isFormValid","toString","preventDefault","focusKeyInputField","el","querySelector","focus","get","getElement","style","KeyValueTableComponent","reorder","items","buttonLabel","emptyMessage","dragSrcEl","renderRows","componentDidLoad","bindDraggableEvents","componentDidUpdate","document","querySelectorAll","forEach","row","setAttribute","removeEventListener","handleDragStart","handleDragEnter","handleDragOver","handleDragLeave","handleDrop","handleDragEnd","addEventListener","removeElementById","elemId","getElementById","remove","isPlaceholderInDOM","isCursorOnUpperSide","cursor","top","bottom","y","setPlaceholder","createElement","id","classList","insertBeforeElement","newElem","element","parentNode","insertBefore","insertAfterElement","nextSibling","contentlet","closest","contentletPlaceholder","getBoundingClientRect","stopPropagation","insertAdjacentElement","onDelete","index","getRow","label","getDeleteButton","onClick","isValidItems","getEmptyRow","Array","isArray"],"sourceRoot":"webpack:///"}