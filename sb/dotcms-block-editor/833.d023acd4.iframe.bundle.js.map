{"version":3,"file":"833.d023acd4.iframe.bundle.js","mappings":"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","sources":["./dist/libs/dotcms-webcomponents/dist/esm/key-value-form_2.entry.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, g as getElement } from './index-094afd6e.js';\n\nconst keyValueFormCss = \"key-value-form form label{align-items:center;display:flex;flex-grow:1}key-value-form form table{width:100%}key-value-form form table input{width:100%}key-value-form form .key-value-table-form__key{width:45%}key-value-form form .key-value-table-form__value{width:45%}key-value-form form .key-value-table-form__action{text-align:right;width:10%}\";\n\nconst DEFAULT_VALUE = { key: '', value: '' };\nlet DotKeyValueComponent = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.add = createEvent(this, \"add\", 7);\n    this.lostFocus = createEvent(this, \"lostFocus\", 7);\n    /** (optional) Disables all form interaction */\n    this.disabled = false;\n    /** (optional) Label for the add item button */\n    this.addButtonLabel = 'Add';\n    /** (optional) Placeholder for the key input text */\n    this.keyPlaceholder = '';\n    /** (optional) Placeholder for the value input text */\n    this.valuePlaceholder = '';\n    /** (optional) The string to use in the key input label */\n    this.keyLabel = 'Key';\n    /** (optional) The string to use in the value input label */\n    this.valueLabel = 'Value';\n    /** (optional) Label for the empty option in white-list select */\n    this.emptyDropdownOptionLabel = 'Pick an option';\n    /** (optional) The string to use for white-list key/values */\n    this.whiteList = '';\n    this.inputs = Object.assign({}, DEFAULT_VALUE);\n    this.selectedWhiteListKey = '';\n    this.whiteListArray = {};\n  }\n  selectedWhiteListKeyWatch() {\n    /* */\n  }\n  componentWillLoad() {\n    this.whiteListArray = this.whiteList.length ? JSON.parse(this.whiteList) : '';\n  }\n  render() {\n    const buttonDisabled = this.isButtonDisabled();\n    return (h(\"form\", { onSubmit: this.addKey.bind(this) }, h(\"table\", null, h(\"tbody\", null, h(\"tr\", null, h(\"td\", { class: \"key-value-table-form__key\" }, h(\"label\", null, this.keyLabel)), h(\"td\", { class: \"key-value-table-form__value\" }, h(\"label\", null, this.valueLabel)), h(\"td\", { class: \"key-value-table-form__action\" })), Object.keys(this.whiteListArray).length === 0\n      ? this.getKeyValueForm(buttonDisabled)\n      : this.getWhiteListForm(buttonDisabled)))));\n  }\n  getKeyValueForm(buttonDisabled) {\n    return (h(\"tr\", null, h(\"td\", { class: \"key-value-table-form__key\" }, h(\"input\", { disabled: this.disabled, name: \"key\", onBlur: (e) => this.lostFocus.emit(e), onInput: (event) => this.setValue(event), placeholder: this.keyPlaceholder, type: \"text\", value: this.inputs.key })), h(\"td\", { class: \"key-value-table-form__value\" }, h(\"input\", { disabled: this.disabled, name: \"value\", onBlur: (e) => this.lostFocus.emit(e), onInput: (event) => this.setValue(event), placeholder: this.valuePlaceholder, type: \"text\", value: this.inputs.value })), h(\"td\", { class: \"key-value-table-form__action\" }, h(\"button\", { class: \"key-value-form__save__button\", type: \"submit\", disabled: buttonDisabled }, this.addButtonLabel))));\n  }\n  getWhiteListForm(buttonDisabled) {\n    return (h(\"tr\", null, h(\"td\", { class: \"key-value-table-form__key\" }, this.getWhiteListKeysDropdown()), h(\"td\", { class: \"key-value-table-form__value\" }, this.selectedWhiteListKey ? this.getWhiteListValueControl() : null), h(\"td\", { class: \"key-value-table-form__action\" }, h(\"button\", { class: \"key-value-form__save__button\", type: \"submit\", disabled: buttonDisabled }, this.addButtonLabel))));\n  }\n  getWhiteListValueControl() {\n    return this.whiteListArray[this.selectedWhiteListKey].length ? (this.getWhiteListValuesDropdown()) : (h(\"input\", { disabled: this.disabled, name: \"value\", onBlur: (e) => this.lostFocus.emit(e), onInput: (event) => this.setValue(event), placeholder: this.valuePlaceholder, type: \"text\", value: this.inputs.value }));\n  }\n  getWhiteListKeysDropdown() {\n    return (h(\"select\", { disabled: this.disabled, name: \"key\", onChange: (event) => this.changeWhiteListKey(event) }, h(\"option\", { value: \"\" }, this.emptyDropdownOptionLabel), Object.keys(this.whiteListArray).map((key) => {\n      return h(\"option\", { value: key }, key);\n    })));\n  }\n  getWhiteListValuesDropdown() {\n    return (h(\"select\", { disabled: this.disabled, name: \"value\", onChange: (event) => this.changeWhiteListValue(event) }, h(\"option\", { value: \"\" }, this.emptyDropdownOptionLabel), this.whiteListArray[this.selectedWhiteListKey].map((item) => {\n      return h(\"option\", { value: item }, item);\n    })));\n  }\n  changeWhiteListKey(event) {\n    event.stopImmediatePropagation();\n    this.clearForm();\n    const target = event.target;\n    this.selectedWhiteListKey = target.value;\n    this.setValue(event);\n  }\n  changeWhiteListValue(event) {\n    event.stopImmediatePropagation();\n    this.setValue(event);\n  }\n  isButtonDisabled() {\n    return !this.isFormValid() || this.disabled || null;\n  }\n  isFormValid() {\n    return !!(this.inputs.key.length && this.inputs.value.length);\n  }\n  setValue(event) {\n    event.stopImmediatePropagation();\n    const target = event.target;\n    this.inputs = Object.assign(Object.assign({}, this.inputs), { [target.name]: target.value.toString() });\n  }\n  addKey(event) {\n    event.preventDefault();\n    event.stopImmediatePropagation();\n    if (this.inputs.key && this.inputs.value) {\n      this.add.emit(this.inputs);\n      this.clearForm();\n      this.focusKeyInputField();\n    }\n  }\n  clearForm() {\n    this.inputs = Object.assign({}, DEFAULT_VALUE);\n  }\n  focusKeyInputField() {\n    const input = this.el.querySelector('[name=\"key\"]');\n    input.focus();\n  }\n  get el() { return getElement(this); }\n  static get watchers() { return {\n    \"selectedWhiteListKey\": [\"selectedWhiteListKeyWatch\"]\n  }; }\n};\nDotKeyValueComponent.style = keyValueFormCss;\n\nconst keyValueTableCss = \"key-value-table table{width:100%}key-value-table .key-value-table-wc__key{width:45%}key-value-table .key-value-table-wc__value{width:45%}key-value-table .key-value-table-wc__action{text-align:right;width:10%}key-value-table .key-value-table-wc__placeholder-transit{border-bottom:1px solid}\";\n\nlet KeyValueTableComponent = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.delete = createEvent(this, \"delete\", 7);\n    this.reorder = createEvent(this, \"reorder\", 7);\n    /** (optional) Items to render in the list of key value */\n    this.items = [];\n    /** (optional) Disables all form interaction */\n    this.disabled = false;\n    /** (optional) Label for the delete button in each item list */\n    this.buttonLabel = 'Delete';\n    /** (optional) Message to show when the list of items is empty */\n    this.emptyMessage = 'No values';\n    this.dragSrcEl = null;\n  }\n  render() {\n    return (h(\"table\", null, h(\"tbody\", null, this.renderRows(this.items))));\n  }\n  componentDidLoad() {\n    this.bindDraggableEvents();\n  }\n  componentDidUpdate() {\n    this.bindDraggableEvents();\n  }\n  // D&D - BEGIN\n  bindDraggableEvents() {\n    const rows = document.querySelectorAll('key-value-table tr');\n    rows.forEach((row) => {\n      row.setAttribute('draggable', 'true');\n      row.removeEventListener('dragstart', this.handleDragStart.bind(this), false);\n      row.removeEventListener('dragenter', this.handleDragEnter, false);\n      row.removeEventListener('dragover', this.handleDragOver.bind(this), false);\n      row.removeEventListener('dragleave', this.handleDragLeave, false);\n      row.removeEventListener('drop', this.handleDrop.bind(this), false);\n      row.removeEventListener('dragend', this.handleDragEnd.bind(this), false);\n      row.addEventListener('dragstart', this.handleDragStart.bind(this), false);\n      row.addEventListener('dragenter', this.handleDragEnter, false);\n      row.addEventListener('dragover', this.handleDragOver.bind(this), false);\n      row.addEventListener('dragleave', this.handleDragLeave, false);\n      row.addEventListener('drop', this.handleDrop.bind(this), false);\n      row.addEventListener('dragend', this.handleDragEnd.bind(this), false);\n    });\n  }\n  removeElementById(elemId) {\n    document.getElementById(elemId).remove();\n  }\n  isPlaceholderInDOM() {\n    return !!document.getElementById('dotKeyValuePlaceholder');\n  }\n  isCursorOnUpperSide(cursor, { top, bottom }) {\n    return cursor.y - top < (bottom - top) / 2;\n  }\n  setPlaceholder() {\n    const placeholder = document.createElement('tr');\n    placeholder.id = 'dotKeyValuePlaceholder';\n    placeholder.classList.add('key-value-table-wc__placeholder-transit');\n    return placeholder;\n  }\n  insertBeforeElement(newElem, element) {\n    element.parentNode.insertBefore(newElem, element);\n  }\n  insertAfterElement(newElem, element) {\n    element.parentNode.insertBefore(newElem, element.nextSibling);\n  }\n  handleDragStart(e) {\n    this.dragSrcEl = e.target;\n  }\n  handleDragOver(e) {\n    if (e.preventDefault) {\n      e.preventDefault();\n    }\n    if (this.dragSrcEl != e.target) {\n      const contentlet = e.target.closest('tr');\n      const contentletPlaceholder = this.setPlaceholder();\n      if (this.isPlaceholderInDOM()) {\n        this.removeElementById('dotKeyValuePlaceholder');\n      }\n      if (this.isCursorOnUpperSide(e, contentlet.getBoundingClientRect())) {\n        this.insertBeforeElement(contentletPlaceholder, contentlet);\n      }\n      else {\n        this.insertAfterElement(contentletPlaceholder, contentlet);\n      }\n    }\n    return false;\n  }\n  handleDragEnter(e) {\n    e.target.classList.add('over');\n  }\n  handleDragLeave(e) {\n    e.target.classList.remove('over');\n  }\n  handleDrop(e) {\n    if (e.stopPropagation) {\n      e.stopPropagation(); // stops the browser from redirecting.\n    }\n    if (this.dragSrcEl != e.target) {\n      document\n        .getElementById('dotKeyValuePlaceholder')\n        .insertAdjacentElement('afterend', this.dragSrcEl);\n    }\n    return false;\n  }\n  handleDragEnd() {\n    const rows = document.querySelectorAll('key-value-table tr');\n    rows.forEach(function (row) {\n      row.classList.remove('over');\n    });\n    try {\n      this.removeElementById('dotKeyValuePlaceholder');\n    }\n    catch (e) {\n      /**/\n    }\n    this.reorder.emit();\n  }\n  // D&D - END\n  onDelete(index) {\n    this.delete.emit(index);\n  }\n  getRow(item, index) {\n    const label = `${this.buttonLabel} ${item.key}, ${item.value}`;\n    return (h(\"tr\", null, h(\"td\", { class: \"key-value-table-wc__key\" }, item.key), h(\"td\", { class: \"key-value-table-wc__value\" }, item.value), h(\"td\", { class: \"key-value-table-wc__action\" }, h(\"button\", { \"aria-label\": label, disabled: this.disabled || null, onClick: () => this.onDelete(index), class: \"dot-key-value__delete-button\" }, this.buttonLabel))));\n  }\n  renderRows(items) {\n    return this.isValidItems(items)\n      ? items.map((item, index) => this.getRow(item, index))\n      : this.getEmptyRow();\n  }\n  getEmptyRow() {\n    return (h(\"tr\", null, h(\"td\", null, this.emptyMessage)));\n  }\n  isValidItems(items) {\n    return Array.isArray(items) && !!items.length;\n  }\n};\nKeyValueTableComponent.style = keyValueTableCss;\n\nexport { DotKeyValueComponent as key_value_form, KeyValueTableComponent as key_value_table };\n"],"names":["DEFAULT_VALUE","key","value","DotKeyValueComponent","hostRef","registerInstance","this","add","createEvent","lostFocus","disabled","addButtonLabel","keyPlaceholder","valuePlaceholder","keyLabel","valueLabel","emptyDropdownOptionLabel","whiteList","inputs","Object","assign","selectedWhiteListKey","whiteListArray","selectedWhiteListKeyWatch","componentWillLoad","length","JSON","parse","render","buttonDisabled","isButtonDisabled","h","onSubmit","addKey","bind","class","keys","getKeyValueForm","getWhiteListForm","name","onBlur","e","emit","onInput","event","setValue","placeholder","type","getWhiteListKeysDropdown","getWhiteListValueControl","getWhiteListValuesDropdown","onChange","changeWhiteListKey","map","changeWhiteListValue","item","stopImmediatePropagation","clearForm","target","isFormValid","toString","preventDefault","focusKeyInputField","el","querySelector","focus","get","getElement","style","KeyValueTableComponent","reorder","items","buttonLabel","emptyMessage","dragSrcEl","renderRows","componentDidLoad","bindDraggableEvents","componentDidUpdate","document","querySelectorAll","forEach","row","setAttribute","removeEventListener","handleDragStart","handleDragEnter","handleDragOver","handleDragLeave","handleDrop","handleDragEnd","addEventListener","removeElementById","elemId","getElementById","remove","isPlaceholderInDOM","isCursorOnUpperSide","cursor","top","bottom","y","setPlaceholder","createElement","id","classList","insertBeforeElement","newElem","element","parentNode","insertBefore","insertAfterElement","nextSibling","contentlet","closest","contentletPlaceholder","getBoundingClientRect","stopPropagation","insertAdjacentElement","onDelete","index","getRow","label","onClick","isValidItems","getEmptyRow","Array","isArray"],"sourceRoot":"webpack:///"}