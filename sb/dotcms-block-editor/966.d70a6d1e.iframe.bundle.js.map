{"version":3,"file":"966.d70a6d1e.iframe.bundle.js","mappings":"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","sources":["./dist/libs/dotcms-webcomponents/dist/esm/dot-tags.entry.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, H as Host, g as getElement } from './index-5965c697.js';\nimport { g as getOriginalStatus, a as getClassNames, b as getTagError, c as getTagHint, h as getHintId, j as getErrorClass, u as updateStatus, e as isStringType } from './utils-4086c226.js';\nimport { c as checkProp } from './checkProp-286e406e.js';\n\nconst dotTagsCss = \"dot-tags .dot-tags__container{display:flex;align-items:flex-start;border:solid 1px lightgray}dot-tags .dot-tags__container dot-autocomplete{margin:0.5rem 1rem 0.5rem 0.5rem}dot-tags .dot-tags__container .dot-tags__chips{margin:0.5rem 1rem 0 0}dot-tags .dot-tags__container dot-chip{border:solid 1px #ccc;display:inline-block;margin:0 0.5rem 0.5rem 0;padding:0.2rem}dot-tags button{border:0}\";\n\nconst DotTagsComponent = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.dotValueChange = createEvent(this, \"dotValueChange\", 7);\n    this.dotStatusChange = createEvent(this, \"dotStatusChange\", 7);\n    /** Value formatted splitted with a comma, for example: tag-1,tag-2 */\n    this.value = '';\n    /** Name that will be used as ID */\n    this.name = '';\n    /** (optional) Text to be rendered next to input field */\n    this.label = '';\n    /** (optional) Hint text that suggest a clue of the field */\n    this.hint = '';\n    /** (optional) text to show when no value is set */\n    this.placeholder = '';\n    /** (optional) Determine if it is mandatory */\n    this.required = false;\n    /** (optional) Text that be shown when required is set and value is not set */\n    this.requiredMessage = 'This field is required';\n    /** (optional) Disables field's interaction */\n    this.disabled = false;\n    /** Min characters to start search in the autocomplete input */\n    this.threshold = 1;\n    /** Duraction in ms to start search into the autocomplete */\n    this.debounce = 300;\n    /** Function or array of string to get the data to use for the autocomplete search */\n    this.data = null;\n  }\n  /**\n   * Reset properties of the filed, clear value and emit events.\n   */\n  async reset() {\n    this.value = '';\n    this.status = getOriginalStatus(this.isValid());\n    this.emitChanges();\n  }\n  valueWatch() {\n    this.value = checkProp(this, 'value', 'string');\n  }\n  componentWillLoad() {\n    this.status = getOriginalStatus(this.isValid());\n    this.validateProps();\n    this.emitStatusChange();\n  }\n  render() {\n    const classes = getClassNames(this.status, this.isValid(), this.required);\n    return (h(Host, { class: Object.assign({}, classes) }, h(\"dot-label\", { label: this.label, required: this.required, name: this.name }, h(\"div\", { \"aria-describedby\": getHintId(this.hint), tabIndex: this.hint ? 0 : null, class: \"dot-tags__container\" }, h(\"dot-autocomplete\", { class: getErrorClass(this.status.dotValid), data: this.data, debounce: this.debounce, disabled: this.isDisabled(), onEnter: this.onEnterHandler.bind(this), onLostFocus: this.blurHandler.bind(this), onSelection: this.onSelectHandler.bind(this), placeholder: this.placeholder || null, threshold: this.threshold }), h(\"div\", { class: \"dot-tags__chips\" }, this.getValues().map((tagLab) => (h(\"dot-chip\", { disabled: this.isDisabled(), label: tagLab, onRemove: this.removeTag.bind(this) })))))), getTagHint(this.hint), getTagError(this.showErrorMessage(), this.getErrorMessage())));\n  }\n  addTag(label) {\n    const values = this.getValues();\n    if (!values.includes(label)) {\n      values.push(label);\n      this.value = values.join(',');\n      this.updateStatus();\n      this.emitChanges();\n    }\n  }\n  blurHandler() {\n    if (!this.status.dotTouched) {\n      this.status = updateStatus(this.status, {\n        dotTouched: true\n      });\n      this.emitStatusChange();\n    }\n  }\n  emitChanges() {\n    this.emitStatusChange();\n    this.emitValueChange();\n  }\n  emitStatusChange() {\n    this.dotStatusChange.emit({\n      name: this.name,\n      status: this.status\n    });\n  }\n  emitValueChange() {\n    this.dotValueChange.emit({\n      name: this.name,\n      value: this.value\n    });\n  }\n  getErrorMessage() {\n    return this.isValid() ? '' : this.requiredMessage;\n  }\n  getValues() {\n    return isStringType(this.value) ? this.value.split(',') : [];\n  }\n  isDisabled() {\n    return this.disabled || null;\n  }\n  isValid() {\n    return !this.required || (this.required && !!this.value);\n  }\n  onEnterHandler({ detail = '' }) {\n    detail.split(',').forEach((label) => {\n      this.addTag(label.trim());\n    });\n  }\n  onSelectHandler({ detail }) {\n    const value = detail.selection.value.replace(',', ' ').replace(/\\s+/g, ' ');\n    this.addTag(value);\n  }\n  removeTag(event) {\n    const values = this.getValues().filter((item) => item !== event.detail);\n    this.value = values.join(',');\n    this.updateStatus();\n    this.emitChanges();\n  }\n  showErrorMessage() {\n    return this.getErrorMessage() && !this.status.dotPristine;\n  }\n  updateStatus() {\n    this.status = updateStatus(this.status, {\n      dotTouched: true,\n      dotPristine: false,\n      dotValid: this.isValid()\n    });\n  }\n  validateProps() {\n    this.valueWatch();\n  }\n  get el() { return getElement(this); }\n  static get watchers() { return {\n    \"value\": [\"valueWatch\"]\n  }; }\n};\nDotTagsComponent.style = dotTagsCss;\n\nexport { DotTagsComponent as dot_tags };\n"],"names":["DotTagsComponent","hostRef","_classCallCheck","registerInstance","this","dotValueChange","createEvent","dotStatusChange","value","name","label","hint","placeholder","required","requiredMessage","disabled","threshold","debounce","data","_createClass","key","status","getOriginalStatus","isValid","emitChanges","valueWatch","checkProp","componentWillLoad","validateProps","emitStatusChange","render","classes","getClassNames","h","Host","class","Object","assign","getHintId","tabIndex","getErrorClass","dotValid","isDisabled","onEnter","onEnterHandler","bind","onLostFocus","blurHandler","onSelection","onSelectHandler","getValues","map","tagLab","_this","onRemove","removeTag","getTagHint","getTagError","showErrorMessage","getErrorMessage","addTag","values","includes","push","join","updateStatus","dotTouched","emitValueChange","emit","isStringType","split","detail","forEach","_this2","trim","selection","replace","event","filter","item","dotPristine","get","getElement","style"],"sourceRoot":"webpack:///"}