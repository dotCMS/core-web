"use strict";(self.webpackChunkdotcms_ui=self.webpackChunkdotcms_ui||[]).push([[592],{"./dist/libs/dotcms-webcomponents/dist/esm/key-value-form_2.entry.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{key_value_form:()=>DotKeyValueComponent,key_value_table:()=>KeyValueTableComponent});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var _index_0d6d7bf0_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./dist/libs/dotcms-webcomponents/dist/esm/index-0d6d7bf0.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}var DEFAULT_VALUE={key:"",value:""},DotKeyValueComponent=function(){function DotKeyValueComponent(hostRef){_classCallCheck(this,DotKeyValueComponent),(0,_index_0d6d7bf0_js__WEBPACK_IMPORTED_MODULE_9__.r)(this,hostRef),this.add=(0,_index_0d6d7bf0_js__WEBPACK_IMPORTED_MODULE_9__.c)(this,"add",7),this.lostFocus=(0,_index_0d6d7bf0_js__WEBPACK_IMPORTED_MODULE_9__.c)(this,"lostFocus",7),this.disabled=!1,this.addButtonLabel="Add",this.keyPlaceholder="",this.valuePlaceholder="",this.keyLabel="Key",this.valueLabel="Value",this.inputs=Object.assign({},DEFAULT_VALUE)}return _createClass(DotKeyValueComponent,[{key:"render",value:function render(){var _this=this,buttonDisabled=this.isButtonDisabled();return(0,_index_0d6d7bf0_js__WEBPACK_IMPORTED_MODULE_9__.h)("form",{onSubmit:this.addKey.bind(this)},(0,_index_0d6d7bf0_js__WEBPACK_IMPORTED_MODULE_9__.h)("label",null,this.keyLabel,(0,_index_0d6d7bf0_js__WEBPACK_IMPORTED_MODULE_9__.h)("input",{disabled:this.disabled,name:"key",onBlur:function onBlur(e){return _this.lostFocus.emit(e)},onInput:function onInput(event){return _this.setValue(event)},placeholder:this.keyPlaceholder,type:"text",value:this.inputs.key})),(0,_index_0d6d7bf0_js__WEBPACK_IMPORTED_MODULE_9__.h)("label",null,this.valueLabel,(0,_index_0d6d7bf0_js__WEBPACK_IMPORTED_MODULE_9__.h)("input",{disabled:this.disabled,name:"value",onBlur:function onBlur(e){return _this.lostFocus.emit(e)},onInput:function onInput(event){return _this.setValue(event)},placeholder:this.valuePlaceholder,type:"text",value:this.inputs.value})),(0,_index_0d6d7bf0_js__WEBPACK_IMPORTED_MODULE_9__.h)("button",{class:"key-value-form__save__button",type:"submit",disabled:buttonDisabled},this.addButtonLabel))}},{key:"isButtonDisabled",value:function isButtonDisabled(){return!this.isFormValid()||this.disabled||null}},{key:"isFormValid",value:function isFormValid(){return!(!this.inputs.key.length||!this.inputs.value.length)}},{key:"setValue",value:function setValue(event){var _Object$assign;event.stopImmediatePropagation();var target=event.target;this.inputs=Object.assign(Object.assign({},this.inputs),((_Object$assign={})[target.name]=target.value.toString(),_Object$assign))}},{key:"addKey",value:function addKey(event){event.preventDefault(),event.stopImmediatePropagation(),this.inputs.key&&this.inputs.value&&(this.add.emit(this.inputs),this.clearForm(),this.focusKeyInputField())}},{key:"clearForm",value:function clearForm(){this.inputs=Object.assign({},DEFAULT_VALUE)}},{key:"focusKeyInputField",value:function focusKeyInputField(){this.el.querySelector('input[name="key"]').focus()}},{key:"el",get:function get(){return(0,_index_0d6d7bf0_js__WEBPACK_IMPORTED_MODULE_9__.g)(this)}}]),DotKeyValueComponent}();DotKeyValueComponent.style="key-value-form form{display:flex;align-items:center}key-value-form form button{margin:0}key-value-form form input{margin:0 1rem 0 0.5rem}key-value-form form label{align-items:center;display:flex;flex-grow:1}key-value-form form label input{flex-grow:1}";var KeyValueTableComponent=function(){function KeyValueTableComponent(hostRef){_classCallCheck(this,KeyValueTableComponent),(0,_index_0d6d7bf0_js__WEBPACK_IMPORTED_MODULE_9__.r)(this,hostRef),this.delete=(0,_index_0d6d7bf0_js__WEBPACK_IMPORTED_MODULE_9__.c)(this,"delete",7),this.items=[],this.disabled=!1,this.buttonLabel="Delete",this.emptyMessage="No values"}return _createClass(KeyValueTableComponent,[{key:"render",value:function render(){return(0,_index_0d6d7bf0_js__WEBPACK_IMPORTED_MODULE_9__.h)("table",null,(0,_index_0d6d7bf0_js__WEBPACK_IMPORTED_MODULE_9__.h)("tbody",null,this.renderRows(this.items)))}},{key:"onDelete",value:function onDelete(index){this.delete.emit(index)}},{key:"getRow",value:function getRow(item,index){var _this2=this,label=this.buttonLabel+" "+item.key+", "+item.value;return(0,_index_0d6d7bf0_js__WEBPACK_IMPORTED_MODULE_9__.h)("tr",null,(0,_index_0d6d7bf0_js__WEBPACK_IMPORTED_MODULE_9__.h)("td",{class:"key-value-table-wc__key"},item.key),(0,_index_0d6d7bf0_js__WEBPACK_IMPORTED_MODULE_9__.h)("td",{class:"key-value-table-wc__value"},item.value),(0,_index_0d6d7bf0_js__WEBPACK_IMPORTED_MODULE_9__.h)("td",{class:"key-value-table-wc__action"},(0,_index_0d6d7bf0_js__WEBPACK_IMPORTED_MODULE_9__.h)("button",{"aria-label":label,disabled:this.disabled||null,onClick:function onClick(){return _this2.onDelete(index)},class:"dot-key-value__delete-button"},this.buttonLabel)))}},{key:"renderRows",value:function renderRows(items){var _this3=this;return this.isValidItems(items)?items.map((function(item,index){return _this3.getRow(item,index)})):this.getEmptyRow()}},{key:"getEmptyRow",value:function getEmptyRow(){return(0,_index_0d6d7bf0_js__WEBPACK_IMPORTED_MODULE_9__.h)("tr",null,(0,_index_0d6d7bf0_js__WEBPACK_IMPORTED_MODULE_9__.h)("td",null,this.emptyMessage))}},{key:"isValidItems",value:function isValidItems(items){return Array.isArray(items)&&!!items.length}}]),KeyValueTableComponent}();KeyValueTableComponent.style="key-value-table table{width:100%}key-value-table .key-value-table-wc__key{padding-left:5%;width:45%}key-value-table .key-value-table-wc__value{padding-left:9%;width:45%}key-value-table .key-value-table-wc__action{text-align:right;width:10%}"}}]);