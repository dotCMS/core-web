<p-overlayPanel
    #searchPanel
    appendTo="body"
    (onAfterShow)="show.emit()"
    (onAfterHide)="hideDialogHandler()">
    <header class="searchable-dropdown__search">
        <dot-icon class="searchable-dropdown__search-icon" name="search"></dot-icon>
        <input #searchInput pInputText [placeholder]="i18nMessages['search']" type="text" class="searchable-dropdown__search-field" (click)="$event.stopPropagation()" />
    </header>
    <p-dataView
        (click)="$event.stopPropagation()"
        (onLazyLoad)="paginate($event)"
        [lazy]="true"
        [pageLinks]="pageLinkSize"
        [paginator]="totalRecords > rows"
        [rows]="rows"
        [totalRecords]="totalRecords"
        [value]="options"
        class="searchable-dropdown__data-list">
        <ng-template let-item pTemplate="listItem">
            <span [class.selected]="item[labelPropertyName] === valueString" (click)="handleClick(item)">{{ item.label }}</span>
        </ng-template>
    </p-dataView>
</p-overlayPanel>

<button #button dotMdRipple pButton
    *ngIf="label"
    (click)="searchPanel.toggle($event)"
    [label]="label"
    icon="fa fa-caret-down"
    iconPos="right"
    type="button"
    [ngStyle]="{ 'width': width }"
    [disabled]="disabled">
</button>
