<dot-portlet-base [boxed]="false" *ngIf="identifier$ | async">
    <dot-portlet-toolbar [title]="title$ | async">
        <ng-container id="left" *ngIf="title$ | async">
            <button
                pButton
                class="p-button-text"
                icon="pi pi-pencil"
                label="Edit"
                (click)="editTemplateProps()"
            ></button>
            <dot-api-link [href]="apiLink$ | async"></dot-api-link>
        </ng-container>
    </dot-portlet-toolbar>
    <p-tabView>
        <p-tabPanel header="Design">
            <div *ngIf="isAdvaced$ | async; else elseBlock">Advaced</div>
            <ng-template #elseBlock>
                <ng-container *ngIf="template$ | async as template">
                    <dot-edit-layout-designer
                        [theme]="template.theme"
                        [layout]="template.layout"
                        (save)="saveTemplate($event)"
                    ></dot-edit-layout-designer>
                </ng-container>
            </ng-template>
        </p-tabPanel>
        <p-tabPanel header="Permissions">
            <ng-template pTemplate="content">Permissions</ng-template>
        </p-tabPanel>
        <p-tabPanel header="History">
            <ng-template pTemplate="content">History</ng-template>
        </p-tabPanel>
    </p-tabView>
</dot-portlet-base>
